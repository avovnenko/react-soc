{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusContainer.jsx","components/Profile/ProfileInfo/UploadPhotoForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ProfileStatusWithHooks","props","useState","editMode","setEditMode","profileStatus","changeProfileStatus","isEmpty","changeIsEmpty","activateEditMode","useEffect","profileId","userId","autoFocus","onBlur","updateProfileStatus","onChange","e","target","statusOnChangeHandle","onDoubleClick","onClick","ProfileStatusContainer","updateUserStatus","status","updateUserProfileStatus","this","React","Component","mapDispatchToProps","connect","state","profilePage","UploadPhotoForm","reduxForm","form","onSubmit","handleSubmit","htmlFor","src","photos","large","userPhoto","alt","type","id","hidden","error","className","s","formError","ProfileInfo","profile","contacts","c","hasOwnProperty","name","url","bg","authorizedUserId","uploadPhoto","isFetching","Preloader","formData","FormData","append","files","uploadUserPhoto","descriptionBlock","fullName","aboutMe","s_l","map","key","href","Post","item","message","like","likesCount","MyPosts","postsElements","posts","p","myPostsBlock","addPost","AddPostReduxForm","newPostText","PureComponent","maxLength10","maxLengthCreator","Field","component","Textarea","validate","requiredField","placeholder","MyPostsContainer","Profile","content","store","ProfileContainer","loadUserProfile","match","params","isAuth","history","getUserProfile","prevProps","prevState","snapshot","compose","auth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.c24c277a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"ProfileInfo_bg__22_-i\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"s_l\":\"ProfileInfo_s_l__2gn7E\",\"profileStatus\":\"ProfileInfo_profileStatus__SCSPz\",\"uploadPhoto\":\"ProfileInfo_uploadPhoto__2iyZp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3tZ1c\",\"myPostsBlock\":\"MyPosts_myPostsBlock__kveuA\",\"addPost\":\"MyPosts_addPost__qj3M7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"name\":\"Post_name__1oZBH\",\"status\":\"Post_status__1K6XB\",\"message\":\"Post_message__3raFK\",\"like\":\"Post_like__oViQh\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, {useEffect, useState} from 'react';\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n\tlet [editMode, setEditMode] = useState(false);\n\tlet [profileStatus, changeProfileStatus] = useState(props.profileStatus);\n\tlet [isEmpty, changeIsEmpty] = useState(profileStatus ? false : true);\n\n\tconst activateEditMode = () => {\n\t\tsetEditMode(true);\n\t\tchangeIsEmpty(false);\n\t};\n\tconst deactivateEditMode = () => {\n\t\tsetEditMode(false);\n\t\tchangeIsEmpty(profileStatus ? false : true);\n\t\tprops.updateProfileStatus(profileStatus);\n\t};\n\tconst statusOnChangeHandle = (e) => {\n\t\tchangeProfileStatus(e.target.value);\n\t};\n\n\tuseEffect(() => {\n\t\tchangeProfileStatus(props.profileStatus);\n\t\tchangeIsEmpty(props.profileStatus ? false : true);\n\t}, [props.profileStatus]);\n\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\tprops.profileId === props.userId ? (!editMode ?\n\t\t\t\t\t\t<div><span onDoubleClick={activateEditMode}>{props.profileStatus || '------'}</span></div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div><input autoFocus={true} onBlur={deactivateEditMode} onChange={(e) => {\n\t\t\t\t\t\t\tstatusOnChangeHandle(e)\n\t\t\t\t\t\t}} value={profileStatus}/></div>\n\t\t\t\t\t) :\n\t\t\t\t\t(\n\t\t\t\t\t\t<div><span>{props.profileStatus || '------'}</span></div>\n\t\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\tprops.profileId === props.userId ? (isEmpty ?\n\t\t\t\t\t<button onClick={activateEditMode}>Поставить Статус</button> : '') : ''\n\t\t\t}\n\t\t</>\n\t);\n};\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {updateUserProfileStatus} from \"../../../../redux/profileReducer\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\n\nclass ProfileStatusContainer extends React.Component {\n\n\tupdateUserStatus = (status) => {\n\t\tthis.props.updateUserProfileStatus(status);\n\t};\n\n\trender() {\n\t\treturn <ProfileStatusWithHooks {...this.props} updateProfileStatus={this.updateUserStatus} />;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprofileStatus: state.profilePage.profileStatus\n\t}\n};\nconst mapDispatchToProps = {\n\tupdateUserProfileStatus\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileStatusContainer);","import React from 'react';\nimport {reduxForm} from 'redux-form';\nimport userPhoto from \"../../../assets/images/nophoto.jpg\";\nimport s from \"../../common/FormsControls/FormsControls.module.css\";\n\nconst UploadPhoto = (props) => {\n\n\treturn <form onSubmit={props.handleSubmit}>\n\n\t\t<label htmlFor=\"photo\">\n\t\t\t<img src={!props.photos.large ? userPhoto : props.photos.large}\n\t\t\t\t alt=\"\"/>\n\t\t\t<input type=\"file\" id={'photo'} onChange={(e) => {\n\t\t\t\tprops.onSubmit(e);\n\t\t\t}} hidden={true}/>\n\t\t</label>\n\n\t\t{props.error && <div className={s.formError}>{props.error}</div>}\n\t</form>;\n};\n\nconst UploadPhotoForm = reduxForm({\n\tform: 'uploadPhoto'\n})(UploadPhoto);\n\nexport default UploadPhotoForm;","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport userPhoto from '../../../assets/images/nophoto.jpg';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ProfileStatusContainer from \"./ProfileStatus/ProfileStatusContainer\";\nimport UploadPhotoForm from \"./UploadPhotoForm\";\n\n\nconst ProfileInfo = (props) => {\n\n\tif (!props.profile) {\n\t\treturn <Preloader/>;\n\t} else {\n\t\tlet contacts = [];\n\t\tfor (let c in props.profile.contacts) {\n\t\t\tif (props.profile.contacts.hasOwnProperty(c)) {\n\t\t\t\tcontacts.push({\n\t\t\t\t\tname: c,\n\t\t\t\t\turl: props.profile.contacts[c]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tlet uploadPhoto = (e) => {\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append('image', e.target.files[0]);\n\t\t\tprops.uploadUserPhoto(formData);\n\t\t};\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={s.bg}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.authorizedUserId === props.profile.userId ?\n\t\t\t\t\t\t\t<div className={s.uploadPhoto}>\n\t\t\t\t\t\t\t\t{props.isFetching ? <Preloader/> :\n\t\t\t\t\t\t\t\t\t<UploadPhotoForm onSubmit={uploadPhoto} photos={props.profile.photos}/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<img src={!props.profile.photos.large ? userPhoto : props.profile.photos.large} alt=\"\"/>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.descriptionBlock}>\n\t\t\t\t\tПривет! Это - {props.profile.fullName}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.descriptionBlock}>\n\t\t\t\t\t{props.profile.aboutMe}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.profileStatus}>\n\t\t\t\t\t<ProfileStatusContainer profile={props.profile}/>\n\t\t\t\t</div>\n\t\t\t\tМои ссылки:\n\t\t\t\t<ul className={s.s_l}>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontacts.map(c => {\n\t\t\t\t\t\t\t\tif (c.url)\n\t\t\t\t\t\t\t\t\treturn <li key={c.name}>\n\t\t\t\t\t\t\t\t\t\t<a href={`${c.url}`} target=\"blank\">\n\t\t\t\t\t\t\t\t\t\t\t{c.name}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>;\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default ProfileInfo;","import React from 'react';\nimport s from './Post.module.css';\n\n\nconst Post = (props) => {\n\treturn (\n\t\t<div className={s.item}>\n\t\t\t<img src=\"https://c.ndtvimg.com/2019-07/2t829hlo_govinda-twitter_625x300_31_July_19.jpg\" alt=\"\"/><br/>\n\t\t\t<span className={s.name}>{props.name}</span>,\n\t\t\t<span className={s.status}>{props.status}</span><br/>\n\t\t\t<span className={s.message}>{props.message}</span>\n\n\t\t\t<div className={s.like}>\n\t\t\t\t<span>Like</span>\n\t\t\t</div>\n\t\t\t<div className={s.likesCount}>\n\t\t\t\t{props.likesCount} likes\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Post;","import React, {PureComponent} from 'react';\nimport s from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport { Field, reduxForm } from 'redux-form';\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\nclass MyPosts extends PureComponent  {\n\n\trender() {\n\n\t\tlet postsElements =\n\t\t\tthis.props.profilePage.posts.map(p => <Post name={p.name} status={p.status} message={p.message} key={p.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlikesCount={p.likesCount}/>);\n\n\t\tlet onSubmit = (formData) => {\n\t\t\tthis.props.addPost(formData.newPostText);\n\t\t\tformData.newPostText = '';\n\t\t};\n\n\t\treturn (\n\t\t\t<div className={s.myPostsBlock}>\n\t\t\t\tMy posts\n\t\t\t\t<div className={s.addPost}>\n\t\t\t\t\t<AddPostReduxForm onSubmit={onSubmit}/>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.posts}>\n\t\t\t\t\t{postsElements}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddPostForm = (props) => {\n\treturn <form onSubmit={props.handleSubmit}>\n\t\t<Field name={'newPostText'}\n\t\t\t   component={Textarea}\n\t\t\t   validate={[requiredField, maxLength10]}\n\t\t\t   placeholder={'New post text'} />\n\t\t\t   <br/>\n\t\t<button type={'submit'}>Add post</button>\n\t</form>;\n};\n\nconst AddPostReduxForm = reduxForm({\n\tform: 'ProfileAddPost'\n})(AddPostForm);\n\nexport default MyPosts;","import {addPost} from \"../../../redux/profileReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprofilePage: state.profilePage\n\t}\n};\n\nconst mapDispatchToProps = {\n\taddPost\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","import React from 'react';\nimport s from './Profile.module.css';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n\treturn (\n\t\t<div className={s.content}>\n\t\t\t<ProfileInfo isFetching={props.isFetching} authorizedUserId={props.authorizedUserId} profile={props.profile} uploadUserPhoto={props.uploadUserPhoto}/>\n\n\t\t\t<MyPostsContainer store={props.store} />\n\t\t</div>\n\t);\n};\n\nexport default Profile;","import React from 'react';\nimport {connect} from \"react-redux\";\nimport Profile from \"./Profile\";\nimport {getUserProfile, uploadUserPhoto} from \"../../redux/profileReducer\";\nimport {withRouter} from \"react-router-dom\";\nimport withAuthRedirect from \"../../hoc/AuthRedirect/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\nclass ProfileContainer extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.loadUserProfile();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (prevProps !== prevState)\n\t\t\tthis.loadUserProfile();\n\t}\n\n\tloadUserProfile = () => {\n\t\tlet userId = this.props.match.params.userId;\n\t\tif (!userId && this.props.isAuth) {\n\t\t\tuserId = this.props.authorizedUserId;\n\t\t\tif (!userId) {\n\t\t\t\tthis.props.history.push('/login');\n\t\t\t}\n\t\t}\n\t\tthis.props.getUserProfile(userId);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Profile {...this.props} uploadUserPhoto={this.props.uploadUserPhoto}/>\n\t\t);\n\t}\n}\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tprofile: state.profilePage.profile,\n\t\tisFetching: state.profilePage.isFetching,\n\t\tauthorizedUserId: state.auth.userId,\n\t\tisAuth: state.auth.isAuth\n\t}\n};\nlet mapDispatchToProps = {\n\tgetUserProfile,\n\tuploadUserPhoto\n};\n\nexport default compose(\n\tconnect(mapStateToProps, mapDispatchToProps),\n\twithRouter,\n\twithAuthRedirect\n)(ProfileContainer);\n\n"],"sourceRoot":""}