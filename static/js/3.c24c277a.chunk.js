(window["webpackJsonpreact-2"]=window["webpackJsonpreact-2"]||[]).push([[3],{295:function(e,t,a){},296:function(e,t,a){e.exports={bg:"ProfileInfo_bg__22_-i",descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",s_l:"ProfileInfo_s_l__2gn7E",profileStatus:"ProfileInfo_profileStatus__SCSPz",uploadPhoto:"ProfileInfo_uploadPhoto__2iyZp"}},297:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c",myPostsBlock:"MyPosts_myPostsBlock__kveuA",addPost:"MyPosts_addPost__qj3M7"}},298:function(e,t,a){e.exports={item:"Post_item__ihtu9",name:"Post_name__1oZBH",status:"Post_status__1K6XB",message:"Post_message__3raFK",like:"Post_like__oViQh"}},299:function(e,t,a){"use strict";a.r(t);var r=a(21),n=a(22),o=a(24),l=a(23),s=a(25),i=a(0),c=a.n(i),u=a(10),p=a(295),m=a.n(p),f=a(296),d=a.n(f),h=a(94),b=a.n(h),E=a(41),P=a(93);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(i){n=!0,o=i}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=function(e){var t=g(Object(i.useState)(!1),2),a=t[0],r=t[1],n=g(Object(i.useState)(e.profileStatus),2),o=n[0],l=n[1],s=g(Object(i.useState)(!o),2),u=s[0],p=s[1],m=function(){r(!0),p(!1)};return Object(i.useEffect)((function(){l(e.profileStatus),p(!e.profileStatus)}),[e.profileStatus]),c.a.createElement(c.a.Fragment,null,e.profileId===e.userId?a?c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,onBlur:function(){r(!1),p(!o),e.updateProfileStatus(o)},onChange:function(e){!function(e){l(e.target.value)}(e)},value:o})):c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:m},e.profileStatus||"------")):c.a.createElement("div",null,c.a.createElement("span",null,e.profileStatus||"------")),e.profileId===e.userId&&u?c.a.createElement("button",{onClick:m},"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0421\u0442\u0430\u0442\u0443\u0441"):"")},v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).updateUserStatus=function(e){a.props.updateUserProfileStatus(e)},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return c.a.createElement(_,Object.assign({},this.props,{updateProfileStatus:this.updateUserStatus}))}}]),t}(c.a.Component),y={updateUserProfileStatus:P.d},j=Object(u.b)((function(e){return{profileStatus:e.profilePage.profileStatus}}),y)(v),S=a(128),O=a(42),k=a.n(O),U=Object(S.a)({form:"uploadPhoto"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("label",{htmlFor:"photo"},c.a.createElement("img",{src:e.photos.large?e.photos.large:b.a,alt:""}),c.a.createElement("input",{type:"file",id:"photo",onChange:function(t){e.onSubmit(t)},hidden:!0})),e.error&&c.a.createElement("div",{className:k.a.formError},e.error))})),N=function(e){if(e.profile){var t=[];for(var a in e.profile.contacts)e.profile.contacts.hasOwnProperty(a)&&t.push({name:a,url:e.profile.contacts[a]});return c.a.createElement("div",null,c.a.createElement("div",{className:d.a.bg},e.authorizedUserId===e.profile.userId?c.a.createElement("div",{className:d.a.uploadPhoto},e.isFetching?c.a.createElement(E.a,null):c.a.createElement(U,{onSubmit:function(t){var a=new FormData;a.append("image",t.target.files[0]),e.uploadUserPhoto(a)},photos:e.profile.photos})):c.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:b.a,alt:""})),c.a.createElement("div",{className:d.a.descriptionBlock},"\u041f\u0440\u0438\u0432\u0435\u0442! \u042d\u0442\u043e - ",e.profile.fullName),c.a.createElement("div",{className:d.a.descriptionBlock},e.profile.aboutMe),c.a.createElement("div",{className:d.a.profileStatus},c.a.createElement(j,{profile:e.profile})),"\u041c\u043e\u0438 \u0441\u0441\u044b\u043b\u043a\u0438:",c.a.createElement("ul",{className:d.a.s_l},t.map((function(e){return e.url?c.a.createElement("li",{key:e.name},c.a.createElement("a",{href:"".concat(e.url),target:"blank"},e.name)):null}))))}return c.a.createElement(E.a,null)},w=a(297),I=a.n(w),C=a(298),A=a.n(C),B=function(e){return c.a.createElement("div",{className:A.a.item},c.a.createElement("img",{src:"https://c.ndtvimg.com/2019-07/2t829hlo_govinda-twitter_625x300_31_July_19.jpg",alt:""}),c.a.createElement("br",null),c.a.createElement("span",{className:A.a.name},e.name),",",c.a.createElement("span",{className:A.a.status},e.status),c.a.createElement("br",null),c.a.createElement("span",{className:A.a.message},e.message),c.a.createElement("div",{className:A.a.like},c.a.createElement("span",null,"Like")),c.a.createElement("div",{className:A.a.likesCount},e.likesCount," likes"))},F=a(127),x=a(72),M=a(63),z=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props.profilePage.posts.map((function(e){return c.a.createElement(B,{name:e.name,status:e.status,message:e.message,key:e.id,likesCount:e.likesCount})}));return c.a.createElement("div",{className:I.a.myPostsBlock},"My posts",c.a.createElement("div",{className:I.a.addPost},c.a.createElement(T,{onSubmit:function(t){e.props.addPost(t.newPostText),t.newPostText=""}})),c.a.createElement("div",{className:I.a.posts},t))}}]),t}(i.PureComponent),D=Object(x.a)(10),T=Object(S.a)({form:"ProfileAddPost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement(F.a,{name:"newPostText",component:M.b,validate:[x.b,D],placeholder:"New post text"}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit"},"Add post"))})),J=z,Z={addPost:P.a},K=Object(u.b)((function(e){return{profilePage:e.profilePage}}),Z)(J),q=function(e){return c.a.createElement("div",{className:m.a.content},c.a.createElement(N,{isFetching:e.isFetching,authorizedUserId:e.authorizedUserId,profile:e.profile,uploadUserPhoto:e.uploadUserPhoto}),c.a.createElement(K,{store:e.store}))},H=a(30),L=a(95),Q=a(7),V=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).loadUserProfile=function(){var e=a.props.match.params.userId;!e&&a.props.isAuth&&((e=a.props.authorizedUserId)||a.props.history.push("/login")),a.props.getUserProfile(e)},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.loadUserProfile()}},{key:"componentDidUpdate",value:function(e,t,a){e!==t&&this.loadUserProfile()}},{key:"render",value:function(){return c.a.createElement(q,Object.assign({},this.props,{uploadUserPhoto:this.props.uploadUserPhoto}))}}]),t}(c.a.Component),X={getUserProfile:P.c,uploadUserPhoto:P.e};t.default=Object(Q.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),X),H.f,L.a)(V)}}]);
//# sourceMappingURL=3.c24c277a.chunk.js.map