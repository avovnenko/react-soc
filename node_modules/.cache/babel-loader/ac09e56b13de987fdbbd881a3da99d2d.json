{"ast":null,"code":"import _regeneratorRuntime from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{profileAPI}from\"../api/api\";var ADD_POST='profile/ADD-POST',DELETE_POST='profile/DELETE-POST',SET_USER_PROFILE='profile/SET-USER-PROFILE',SET_USER_PROFILE_STATUS='profile/SET-USER-PROFILE-STATUS';var initialState={posts:[{id:1,name:'Anton',status:'Coco',message:'Hello Natasha!',likesCount:'10'},{id:2,name:'Natasha',status:'Coco',message:'Hello Coco!',likesCount:'15'},{id:3,name:'Masik',status:'Dog',message:'Meow!',likesCount:'999'},{id:4,name:'NewCat',status:'Dog',message:'Meow, blyat!',likesCount:'1'}],profile:null,profileStatus:null};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:var newPost={id:state.posts[state.posts.length-1].id+1,name:'Anonymus',status:'noname',message:action.newPostText,likesCount:0};return _objectSpread({},state,{posts:[].concat(_toConsumableArray(state.posts),[newPost])});case DELETE_POST:return _objectSpread({},state,{posts:state.posts.filter(function(p){return p.id!==action.postId;})});case SET_USER_PROFILE:return _objectSpread({},state,{profile:action.profile});case SET_USER_PROFILE_STATUS:return _objectSpread({},state,{profileStatus:action.profileStatus});default:return state;}};export default profileReducer;export var addPost=function addPost(newPostText){return{type:ADD_POST,newPostText:newPostText};};export var deletePost=function deletePost(postId){return{type:DELETE_POST,postId:postId};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setUserProfileStatus=function setUserProfileStatus(profileStatus){return{type:SET_USER_PROFILE_STATUS,profileStatus:profileStatus};};export var getUserProfile=function getUserProfile(userId){return function _callee(dispatch){var response,responseStatus;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(profileAPI.getUserProfile(userId));case 2:response=_context.sent;dispatch(setUserProfile(response));_context.next=6;return _regeneratorRuntime.awrap(profileAPI.getUserProfileStatus(userId));case 6:responseStatus=_context.sent;dispatch(setUserProfileStatus(responseStatus));case 8:case\"end\":return _context.stop();}}});};};export var getUserProfileStatus=function getUserProfileStatus(userId){return function _callee2(dispatch){var response;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(profileAPI.getUserProfileStatus(userId));case 2:response=_context2.sent;dispatch(setUserProfileStatus(response));case 4:case\"end\":return _context2.stop();}}});};};export var updateUserProfileStatus=function updateUserProfileStatus(profileStatus){return function _callee3(dispatch){var response;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(profileAPI.updateUserProfileStatus(profileStatus));case 2:response=_context3.sent;if(response.resultCode===0){dispatch(setUserProfileStatus(profileStatus));}case 4:case\"end\":return _context3.stop();}}});};};","map":{"version":3,"sources":["/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/redux/profileReducer.js"],"names":["profileAPI","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_USER_PROFILE_STATUS","initialState","posts","id","name","status","message","likesCount","profile","profileStatus","profileReducer","state","action","type","newPost","length","newPostText","filter","p","postId","addPost","deletePost","setUserProfile","setUserProfileStatus","getUserProfile","userId","dispatch","response","getUserProfileStatus","responseStatus","updateUserProfileStatus","resultCode"],"mappings":"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","sourcesContent":["import {profileAPI} from \"../api/api\";\n\nconst ADD_POST = 'profile/ADD-POST',\n\tDELETE_POST = 'profile/DELETE-POST',\n\tSET_USER_PROFILE = 'profile/SET-USER-PROFILE',\n\tSET_USER_PROFILE_STATUS = 'profile/SET-USER-PROFILE-STATUS';\n\nlet initialState = {\n\tposts: [\n\t\t{id: 1, name: 'Anton', status: 'Coco', message: 'Hello Natasha!', likesCount: '10'},\n\t\t{id: 2, name: 'Natasha', status: 'Coco', message: 'Hello Coco!', likesCount: '15'},\n\t\t{id: 3, name: 'Masik', status: 'Dog', message: 'Meow!', likesCount: '999'},\n\t\t{id: 4, name: 'NewCat', status: 'Dog', message: 'Meow, blyat!', likesCount: '1'}\n\t],\n\tprofile: null,\n\tprofileStatus: null\n};\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_POST:\n\t\t\tlet newPost = {\n\t\t\t\tid: state.posts[state.posts.length - 1].id + 1,\n\t\t\t\tname: 'Anonymus',\n\t\t\t\tstatus: 'noname',\n\t\t\t\tmessage: action.newPostText,\n\t\t\t\tlikesCount: 0\n\t\t\t};\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, newPost]\n\t\t\t};\n\t\tcase DELETE_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\n\t\t\t};\n\t\tcase SET_USER_PROFILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile\n\t\t\t};\n\t\tcase SET_USER_PROFILE_STATUS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofileStatus: action.profileStatus\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default profileReducer;\n\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\nexport const setUserProfileStatus = (profileStatus) => ({type: SET_USER_PROFILE_STATUS, profileStatus});\n\n\nexport const getUserProfile = (userId) =>\n\tasync (dispatch) => {\n\t\tlet response = await profileAPI.getUserProfile(userId);\n\n\t\tdispatch(setUserProfile(response));\n\n\t\tlet responseStatus = await profileAPI.getUserProfileStatus(userId);\n\n\t\tdispatch(setUserProfileStatus(responseStatus));\n\t};\n\nexport const getUserProfileStatus = (userId) =>\n\tasync (dispatch) => {\n\t\tlet response = await profileAPI.getUserProfileStatus(userId)\n\n\t\tdispatch(setUserProfileStatus(response));\n\t};\n\nexport const updateUserProfileStatus = (profileStatus) =>\n\tasync (dispatch) => {\n\t\tlet response = await profileAPI.updateUserProfileStatus(profileStatus);\n\n\t\tif (response.resultCode === 0) {\n\t\t\tdispatch(setUserProfileStatus(profileStatus));\n\t\t}\n\t};"]},"metadata":{},"sourceType":"module"}