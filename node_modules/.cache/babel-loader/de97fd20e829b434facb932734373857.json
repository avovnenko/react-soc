{"ast":null,"code":"import _classCallCheck from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import Users from\"./Users\";import Preloader from\"../common/Preloader/Preloader\";import{requestUsers,setCurrentPage,showMore,toggleFollow,turnOffPreloader,turnOnPreloader}from\"../../redux/usersReducer\";import withAuthRedirect from\"../../hoc/AuthRedirect/withAuthRedirect\";import{compose}from\"redux\";import{getCurrentPage,getFollowingInProgress,getIsFetching,getPageSize,getShowUsers,getTotalUsersCount,getUsers}from\"../../redux/users-selectors\";var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);function UsersContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,UsersContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UsersContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.showMore=function(){_this.props.showMore();};_this.setCurrentPage=function(currentPage){if(currentPage!==_this.props.currentPage){_this.props.setCurrentPage(currentPage);_this.requestUsers(currentPage);}};_this.turnOnPreloader=function(){_this.props.turnOnPreloader();};_this.turnOffPreloader=function(){_this.props.turnOffPreloader();};return _this;}_createClass(UsersContainer,[{key:\"requestUsers\",value:function requestUsers(currentPage){this.props.requestUsers(currentPage,this.props.pageSize);}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.users.length===0){this.requestUsers(this.props.currentPage);}}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,this.props.isFetching?React.createElement(Preloader,null):null,React.createElement(Users,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,isFetching:this.props.isFetching,showMore:this.showMore,toggleFollow:this.props.toggleFollow,setCurrentPage:this.setCurrentPage,followingInProgress:this.props.followingInProgress}));}}]);return UsersContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:getUsers(state),showUsers:getShowUsers(state),pageSize:getPageSize(state),totalUsersCount:getTotalUsersCount(state),currentPage:getCurrentPage(state),isFetching:getIsFetching(state),followingInProgress:getFollowingInProgress(state)};};var mapDispatchToProps={showMore:showMore,setCurrentPage:setCurrentPage,turnOnPreloader:turnOnPreloader,turnOffPreloader:turnOffPreloader,requestUsers:requestUsers,toggleFollow:toggleFollow};export default compose(connect(mapStateToProps,mapDispatchToProps),withAuthRedirect)(UsersContainer);","map":{"version":3,"sources":["/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/components/Users/UsersContainer.jsx"],"names":["React","connect","Users","Preloader","requestUsers","setCurrentPage","showMore","toggleFollow","turnOffPreloader","turnOnPreloader","withAuthRedirect","compose","getCurrentPage","getFollowingInProgress","getIsFetching","getPageSize","getShowUsers","getTotalUsersCount","getUsers","UsersContainer","props","currentPage","pageSize","users","length","isFetching","totalUsersCount","followingInProgress","Component","mapStateToProps","state","showUsers","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\"\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {\n\trequestUsers,\n\tsetCurrentPage,\n\tshowMore,\n\ttoggleFollow,\n\tturnOffPreloader,\n\tturnOnPreloader\n} from \"../../redux/usersReducer\";\nimport withAuthRedirect from \"../../hoc/AuthRedirect/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {\n\tgetCurrentPage,\n\tgetFollowingInProgress,\n\tgetIsFetching,\n\tgetPageSize,\n\tgetShowUsers,\n\tgetTotalUsersCount,\n\tgetUsers\n} from \"../../redux/users-selectors\";\n\n\nclass UsersContainer extends React.Component {\n\tshowMore = () => {\n\t\tthis.props.showMore();\n\t};\n\tsetCurrentPage = (currentPage) => {\n\t\tif (currentPage !== this.props.currentPage) {\n\t\t\tthis.props.setCurrentPage(currentPage);\n\t\t\tthis.requestUsers(currentPage);\n\t\t}\n\t};\n\n\tturnOnPreloader = () => {\n\t\tthis.props.turnOnPreloader();\n\t};\n\tturnOffPreloader = () => {\n\t\tthis.props.turnOffPreloader();\n\t};\n\n\trequestUsers(currentPage) {\n\t\tthis.props.requestUsers(currentPage, this.props.pageSize);\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.users.length === 0) {\n\t\t\tthis.requestUsers(this.props.currentPage);\n\t\t}\n\t};\n\n\n\trender() {\n\t\treturn <>\n\t\t\t{this.props.isFetching ? <Preloader/> : null}\n\t\t\t<Users\n\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\n\t\t\t\tpageSize={this.props.pageSize}\n\t\t\t\tcurrentPage={this.props.currentPage}\n\t\t\t\tusers={this.props.users}\n\t\t\t\tisFetching={this.props.isFetching}\n\t\t\t\tshowMore={this.showMore}\n\t\t\t\ttoggleFollow={this.props.toggleFollow}\n\t\t\t\tsetCurrentPage={this.setCurrentPage}\n\t\t\t\tfollowingInProgress={this.props.followingInProgress}\n\t\t\t/>\n\t\t</>\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tusers: getUsers(state),\n\t\tshowUsers: getShowUsers(state),\n\t\tpageSize: getPageSize(state),\n\t\ttotalUsersCount: getTotalUsersCount(state),\n\t\tcurrentPage: getCurrentPage(state),\n\t\tisFetching: getIsFetching(state),\n\t\tfollowingInProgress: getFollowingInProgress(state)\n\t}\n};\n\nconst mapDispatchToProps = {\n\tshowMore, setCurrentPage,\n\tturnOnPreloader, turnOffPreloader,\n\trequestUsers,\n\ttoggleFollow\n};\n\n\nexport default compose(\n\tconnect(mapStateToProps, mapDispatchToProps),\n\twithAuthRedirect\n)(UsersContainer);"]},"metadata":{},"sourceType":"module"}