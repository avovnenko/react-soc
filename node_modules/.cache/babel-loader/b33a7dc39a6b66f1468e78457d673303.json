{"ast":null,"code":"var _jsxFileName = \"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/components/Users/Users.jsx\";\nimport React from 'react';\nimport s from \"./Users.module.css\";\nimport userPhoto from '../../assets/images/nophoto.jpg';\nimport { NavLink } from \"react-router-dom\";\nimport * as axios from \"axios\";\n\nlet Users = props => {\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n  let pages = [];\n\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: s.pagination,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, pages.map(p => {\n    if (p >= parseInt(props.currentPage) - 2 && p <= parseInt(props.currentPage) + 2 || p === pagesCount || p === 1) {\n      return React.createElement(\"li\", {\n        key: p,\n        onClick: () => {\n          props.setCurrentPage(p);\n        },\n        className: p === parseInt(props.currentPage) ? s.selected_page : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, p);\n    } else if (p <= parseInt(props.currentPage) + 5 && p >= parseInt(props.currentPage) - 5) {\n      return React.createElement(\"li\", {\n        key: p,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \".\");\n    }\n  })), React.createElement(\"div\", {\n    className: s.users,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, props.users.slice(0, props.showUsers).map(u => React.createElement(\"div\", {\n    className: s.user_block,\n    key: u.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: s.pic_block,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: s.pic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    to: \"/profile/\".concat(u.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: u.photos.small !== null ? u.photos.small : userPhoto,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }))), u.followed ? React.createElement(\"button\", {\n    className: \"\".concat(s.follow_btn, \" \").concat(s.unfollow),\n    onClick: () => {\n      axios.post(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(pageNumber, \"&count=5\")).then(response => {\n        this.props.setUsers(response.data.items);\n        this.props.setTotalUsersCount(response.data.totalCount);\n      }).then(() => {\n        this.turnOffPreloader();\n      });\n      props.unFollowUser(u.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Unfollow\") : React.createElement(\"button\", {\n    className: \"\".concat(s.follow_btn, \" \").concat(s.follow),\n    onClick: () => {\n      props.followUser(u.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Follow\")), React.createElement(\"div\", {\n    className: s.info,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: s.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, u.name), React.createElement(\"span\", {\n    className: s.status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, u.status)))), React.createElement(\"button\", {\n    className: s.show_more,\n    onClick: props.showMore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Show more\")));\n};\n\nexport default Users;","map":{"version":3,"sources":["/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/components/Users/Users.jsx"],"names":["React","s","userPhoto","NavLink","axios","Users","props","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","pagination","map","p","parseInt","currentPage","setCurrentPage","selected_page","users","slice","showUsers","u","user_block","id","pic_block","pic","photos","small","followed","follow_btn","unfollow","post","pageNumber","then","response","setUsers","data","items","setTotalUsersCount","totalCount","turnOffPreloader","unFollowUser","follow","followUser","info","name","status","show_more","showMore"],"mappings":"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","sourcesContent":["import React from 'react';\nimport s from \"./Users.module.css\";\nimport userPhoto from '../../assets/images/nophoto.jpg';\nimport {NavLink} from \"react-router-dom\";\nimport * as axios from \"axios\";\n\n\nlet Users = (props) => {\n\t\n\tlet pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n\n\tlet pages = [];\n\n\tfor (let i = 1;i <= pagesCount; i++) {\n\t\tpages.push(i);\n\t}\n\t\n\treturn (\n\t\t<div>\n\t\t\t<ul className={s.pagination}>\n\t\t\t\t{pages.map(p => {\n\t\t\t\t\tif ((p >= parseInt(props.currentPage) - 2 && p <= parseInt(props.currentPage) + 2) || p === pagesCount || p === 1) {\n\t\t\t\t\t\treturn <li key={p} onClick={() => {\n\t\t\t\t\t\t\tprops.setCurrentPage(p);\n\t\t\t\t\t\t}} className={p === parseInt(props.currentPage) ? s.selected_page : ''}>{p}</li>\n\t\t\t\t\t} else if (p <= parseInt(props.currentPage) + 5 && p >= parseInt(props.currentPage) - 5) {\n\t\t\t\t\t\treturn <li key={p}>.</li>\n\t\t\t\t\t}\n\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<div className={s.users}>\n\t\t\t\t{\n\t\t\t\t\tprops.users.slice(0, props.showUsers).map(u =>\n\t\t\t\t\t\t<div className={s.user_block} key={u.id}>\n\t\t\t\t\t\t\t<div className={s.pic_block}>\n\t\t\t\t\t\t\t\t<div className={s.pic}>\n\t\t\t\t\t\t\t\t\t<NavLink to={`/profile/${u.id}`}>\n\t\t\t\t\t\t\t\t\t\t<img src={u.photos.small !== null ? u.photos.small : userPhoto} alt=\"\"/>\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{u.followed\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t<button className={`${s.follow_btn} ${s.unfollow}`} onClick={() => {\n\t\t\t\t\t\t\t\t\t\taxios.post(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=5`)\n\t\t\t\t\t\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.setUsers(response.data.items);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.setTotalUsersCount(response.data.totalCount);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.turnOffPreloader();\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tprops.unFollowUser(u.id)}\n\t\t\t\t\t\t\t\t\t}>Unfollow</button>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<button className={`${s.follow_btn} ${s.follow}`} onClick={() => {props.followUser(u.id)}}>Follow</button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={s.info}>\n\t\t\t\t\t\t\t\t<span className={s.name}>{u.name}</span>\n\t\t\t\t\t\t\t\t<span className={s.status}>{u.status}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t<button className={s.show_more} onClick={props.showMore}>Show more</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}