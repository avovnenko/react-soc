{"ast":null,"code":"var _jsxFileName = \"/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/components/Users/Users.jsx\";\nimport React from 'react';\nimport s from './Users.module.css';\nimport * as axios from 'axios';\nimport userPhoto from '../../assets/images/nophoto.jpg';\n\nclass UsersAPIComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.followUser = userId => {\n      this.props.follow(userId);\n    };\n\n    this.unFollowUser = userId => {\n      this.props.unFollow(userId);\n    };\n\n    this.showMore = () => {\n      this.props.showMore();\n    };\n\n    this.setCurrentPage = pageNumber => {\n      this.props.setCurrentPage(pageNumber);\n      this.getUsers(pageNumber);\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.users.length === 0) {\n      this.getUsers(this.props.currentPage);\n    }\n  }\n\n  getUsers(pageNumber) {\n    axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(pageNumber, \"&count=5\")).then(response => {\n      this.props.setUsers(response.data.items);\n      this.props.setTotalUsersCount(response.data.totalCount);\n    });\n  }\n\n  render() {\n    let usersList = this.props.users.slice(0, this.props.showUsers).map(u => React.createElement(\"div\", {\n      className: s.user_block,\n      key: u.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: s.pic_block,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: s.pic,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: u.photos.small !== null ? u.photos.small : userPhoto,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })), u.followed ? React.createElement(\"button\", {\n      className: \"\".concat(s.follow_btn, \" \").concat(s.unfollow),\n      onClick: () => {\n        this.unFollowUser(u.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Unfollow\") : React.createElement(\"button\", {\n      className: \"\".concat(s.follow_btn, \" \").concat(s.follow),\n      onClick: () => {\n        this.followUser(u.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Follow\")), React.createElement(\"div\", {\n      className: s.info,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: s.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, u.name), React.createElement(\"span\", {\n      className: s.status,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, u.status))));\n    let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize);\n    let pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n      pages.push(i);\n    }\n\n    return React.createElement(Users, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })(React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: s.pagination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, pages.map(p => {\n      if (p >= parseInt(this.props.currentPage) - 2 && p <= parseInt(this.props.currentPage) + 2 || p === pagesCount || p === 1) {\n        return React.createElement(\"li\", {\n          key: p,\n          onClick: () => {\n            this.setCurrentPage(p);\n          },\n          className: p === parseInt(this.props.currentPage) ? s.selected_page : '',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, p);\n      } else if (p <= parseInt(this.props.currentPage) + 5 && p >= parseInt(this.props.currentPage) - 5) {\n        return React.createElement(\"li\", {\n          key: p,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \".\");\n      }\n    })), React.createElement(\"div\", {\n      className: s.users,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, usersList, React.createElement(\"button\", {\n      className: s.show_more,\n      onClick: this.showMore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Show more\"))));\n  }\n\n}\n\nexport default UsersAPIComponent;","map":{"version":3,"sources":["/Users/avovnenko/PhpstormProjects/ReactApp/01-first-project/react-2/src/components/Users/Users.jsx"],"names":["React","s","axios","userPhoto","UsersAPIComponent","Component","followUser","userId","props","follow","unFollowUser","unFollow","showMore","setCurrentPage","pageNumber","getUsers","componentDidMount","users","length","currentPage","get","then","response","setUsers","data","items","setTotalUsersCount","totalCount","render","usersList","slice","showUsers","map","u","user_block","id","pic_block","pic","photos","small","followed","follow_btn","unfollow","info","name","status","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","pagination","p","parseInt","selected_page","show_more"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,oBAAd;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;;AAGA,MAAMC,iBAAN,SAAgCJ,KAAK,CAACK,SAAtC,CAAgD;AAAA;AAAA;;AAAA,SAC/CC,UAD+C,GACjCC,MAAD,IAAY;AACxB,WAAKC,KAAL,CAAWC,MAAX,CAAkBF,MAAlB;AACA,KAH8C;;AAAA,SAI/CG,YAJ+C,GAI/BH,MAAD,IAAY;AAC1B,WAAKC,KAAL,CAAWG,QAAX,CAAoBJ,MAApB;AACA,KAN8C;;AAAA,SAO/CK,QAP+C,GAOpC,MAAM;AAChB,WAAKJ,KAAL,CAAWI,QAAX;AACA,KAT8C;;AAAA,SAU/CC,cAV+C,GAU7BC,UAAD,IAAgB;AAChC,WAAKN,KAAL,CAAWK,cAAX,CAA0BC,UAA1B;AACA,WAAKC,QAAL,CAAcD,UAAd;AACA,KAb8C;AAAA;;AAe/CE,EAAAA,iBAAiB,GAAG;AACnB,QAAI,KAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,KAA4B,CAAhC,EAAmC;AAClC,WAAKH,QAAL,CAAc,KAAKP,KAAL,CAAWW,WAAzB;AACA;AACD;;AACDJ,EAAAA,QAAQ,CAACD,UAAD,EAAa;AACpBZ,IAAAA,KAAK,CAACkB,GAAN,mEAAqEN,UAArE,eAA2FO,IAA3F,CAAgGC,QAAQ,IAAI;AAC3G,WAAKd,KAAL,CAAWe,QAAX,CAAoBD,QAAQ,CAACE,IAAT,CAAcC,KAAlC;AACA,WAAKjB,KAAL,CAAWkB,kBAAX,CAA8BJ,QAAQ,CAACE,IAAT,CAAcG,UAA5C;AACA,KAHD;AAIA;;AAGDC,EAAAA,MAAM,GAAG;AACR,QAAIC,SAAS,GAAG,KAAKrB,KAAL,CAAWS,KAAX,CAAiBa,KAAjB,CAAuB,CAAvB,EAA0B,KAAKtB,KAAL,CAAWuB,SAArC,EAAgDC,GAAhD,CAAqDC,CAAC,IACrE;AAAK,MAAA,SAAS,EAAEhC,CAAC,CAACiC,UAAlB;AAA8B,MAAA,GAAG,EAAED,CAAC,CAACE,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAElC,CAAC,CAACmC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAEnC,CAAC,CAACoC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,GAAG,EAAEJ,CAAC,CAACK,MAAF,CAASC,KAAT,KAAmB,IAAnB,GAA0BN,CAAC,CAACK,MAAF,CAASC,KAAnC,GAA2CpC,SAArD;AAAgE,MAAA,GAAG,EAAC,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,EAIG8B,CAAC,CAACO,QAAF,GACC;AAAQ,MAAA,SAAS,YAAKvC,CAAC,CAACwC,UAAP,cAAqBxC,CAAC,CAACyC,QAAvB,CAAjB;AAAoD,MAAA,OAAO,EAAG,MAAM;AAAC,aAAKhC,YAAL,CAAkBuB,CAAC,CAACE,EAApB;AAAyB,OAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,GAEC;AAAQ,MAAA,SAAS,YAAKlC,CAAC,CAACwC,UAAP,cAAqBxC,CAAC,CAACQ,MAAvB,CAAjB;AAAkD,MAAA,OAAO,EAAG,MAAM;AAAC,aAAKH,UAAL,CAAgB2B,CAAC,CAACE,EAAlB;AAAuB,OAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,CADD,EAUC;AAAK,MAAA,SAAS,EAAElC,CAAC,CAAC0C,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAM,MAAA,SAAS,EAAE1C,CAAC,CAAC2C,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BX,CAAC,CAACW,IAA5B,CADD,EAEC;AAAM,MAAA,SAAS,EAAE3C,CAAC,CAAC4C,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BZ,CAAC,CAACY,MAA9B,CAFD,CAVD,CADe,CAAhB;AAkBA,QAAIC,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAKxC,KAAL,CAAWyC,eAAX,GAA6B,KAAKzC,KAAL,CAAW0C,QAAlD,CAAjB;AAEA,QAAIC,KAAK,GAAG,EAAZ;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAeA,CAAC,IAAIN,UAApB,EAAgCM,CAAC,EAAjC,EAAqC;AACpCD,MAAAA,KAAK,CAACE,IAAN,CAAWD,CAAX;AACA;;AAED,WAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAI,MAAA,SAAS,EAAEnD,CAAC,CAACqD,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEH,KAAK,CAACnB,GAAN,CAAUuB,CAAC,IAAI;AACf,UAAKA,CAAC,IAAIC,QAAQ,CAAC,KAAKhD,KAAL,CAAWW,WAAZ,CAAR,GAAmC,CAAxC,IAA6CoC,CAAC,IAAIC,QAAQ,CAAC,KAAKhD,KAAL,CAAWW,WAAZ,CAAR,GAAmC,CAAtF,IAA4FoC,CAAC,KAAKT,UAAlG,IAAgHS,CAAC,KAAK,CAA1H,EAA6H;AAC5H,eAAO;AAAI,UAAA,GAAG,EAAEA,CAAT;AAAY,UAAA,OAAO,EAAE,MAAM;AAAE,iBAAK1C,cAAL,CAAoB0C,CAApB;AAAyB,WAAtD;AAAwD,UAAA,SAAS,EAAEA,CAAC,KAAKC,QAAQ,CAAC,KAAKhD,KAAL,CAAWW,WAAZ,CAAd,GAAyClB,CAAC,CAACwD,aAA3C,GAA2D,EAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmIF,CAAnI,CAAP;AACA,OAFD,MAEO,IAAIA,CAAC,IAAIC,QAAQ,CAAC,KAAKhD,KAAL,CAAWW,WAAZ,CAAR,GAAmC,CAAxC,IAA6CoC,CAAC,IAAIC,QAAQ,CAAC,KAAKhD,KAAL,CAAWW,WAAZ,CAAR,GAAmC,CAAzF,EAA4F;AAClG,eAAO;AAAI,UAAA,GAAG,EAAEoC,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAP;AACA;AAED,KAPA,CADF,CADD,EAWC;AAAK,MAAA,SAAS,EAAEtD,CAAC,CAACgB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEY,SADF,EAEC;AAAQ,MAAA,SAAS,EAAE5B,CAAC,CAACyD,SAArB;AAAgC,MAAA,OAAO,EAAE,KAAK9C,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFD,CAXD,CADM,CAAP;AAkBA;;AAzE8C;;AA4EhD,eAAeR,iBAAf","sourcesContent":["import React from 'react';\nimport s from './Users.module.css';\nimport * as axios from 'axios';\nimport userPhoto from '../../assets/images/nophoto.jpg';\n\n\nclass UsersAPIComponent extends React.Component {\n\tfollowUser = (userId) => {\n\t\tthis.props.follow(userId);\n\t};\n\tunFollowUser = (userId) => {\n\t\tthis.props.unFollow(userId);\n\t};\n\tshowMore = () => {\n\t\tthis.props.showMore();\n\t};\n\tsetCurrentPage = (pageNumber) => {\n\t\tthis.props.setCurrentPage(pageNumber);\n\t\tthis.getUsers(pageNumber);\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.users.length === 0) {\n\t\t\tthis.getUsers(this.props.currentPage);\n\t\t}\n\t}\n\tgetUsers(pageNumber) {\n\t\taxios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=5`).then(response => {\n\t\t\tthis.props.setUsers(response.data.items);\n\t\t\tthis.props.setTotalUsersCount(response.data.totalCount);\n\t\t});\n\t}\n\n\n\trender() {\n\t\tlet usersList = this.props.users.slice(0, this.props.showUsers).map( u =>\n\t\t\t<div className={s.user_block} key={u.id}>\n\t\t\t\t<div className={s.pic_block}>\n\t\t\t\t\t<div className={s.pic}>\n\t\t\t\t\t\t<img src={u.photos.small !== null ? u.photos.small : userPhoto} alt=\"\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ u.followed\n\t\t\t\t\t\t? <button className={`${s.follow_btn} ${s.unfollow}`} onClick={ () => {this.unFollowUser(u.id) } }>Unfollow</button>\n\t\t\t\t\t\t: <button className={`${s.follow_btn} ${s.follow}`} onClick={ () => {this.followUser(u.id) } }>Follow</button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.info}>\n\t\t\t\t\t<span className={s.name}>{u.name}</span>\n\t\t\t\t\t<span className={s.status}>{u.status}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize);\n\n\t\tlet pages = [];\n\n\t\tfor (let i = 1;i <= pagesCount; i++) {\n\t\t\tpages.push(i);\n\t\t}\n\n\t\treturn <Users />(\n\t\t\t<div>\n\t\t\t\t<ul className={s.pagination}>\n\t\t\t\t\t{pages.map(p => {\n\t\t\t\t\t\tif ((p >= parseInt(this.props.currentPage) - 2 && p <= parseInt(this.props.currentPage) + 2) || p === pagesCount || p === 1) {\n\t\t\t\t\t\t\treturn <li key={p} onClick={() => { this.setCurrentPage(p); }} className={p === parseInt(this.props.currentPage) ? s.selected_page : ''}>{p}</li>\n\t\t\t\t\t\t} else if (p <= parseInt(this.props.currentPage) + 5 && p >= parseInt(this.props.currentPage) - 5) {\n\t\t\t\t\t\t\treturn <li key={p}>.</li>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<div className={s.users}>\n\t\t\t\t\t{usersList}\n\t\t\t\t\t<button className={s.show_more} onClick={this.showMore}>Show more</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default UsersAPIComponent;"]},"metadata":{},"sourceType":"module"}